#pragma once

namespace Inventory
{
    static inline std::vector<std::string> WeaponItemDefinitionArray = {
        "/Game/Athena/Items/Weapons/LTM/WID_Hook_Gun_Slide.WID_Hook_Gun_Slide",
        "/Game/Athena/Items/Weapons/WID_Special_FiendHunter_Athena_VR_Ore_T03.WID_Special_FiendHunter_Athena_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Sniper_Suppressed_Scope_Athena_VR_Ore_T03.WID_Sniper_Suppressed_Scope_Athena_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Sniper_Suppressed_Scope_Athena_SR_Ore_T03.WID_Sniper_Suppressed_Scope_Athena_SR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Sniper_Standard_Scope_Athena_VR_Ore_T03.WID_Sniper_Standard_Scope_Athena_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Sniper_Standard_Scope_Athena_SR_Ore_T03.WID_Sniper_Standard_Scope_Athena_SR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Sniper_NoScope_Athena_UC_Ore_T03.WID_Sniper_NoScope_Athena_UC_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Sniper_NoScope_Athena_R_Ore_T03.WID_Sniper_NoScope_Athena_R_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Sniper_Heavy_Athena_VR_Ore_T03.WID_Sniper_Heavy_Athena_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Sniper_Heavy_Athena_SR_Ore_T03.WID_Sniper_Heavy_Athena_SR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Sniper_BoltAction_Scope_Athena_VR_Ore_T03.WID_Sniper_BoltAction_Scope_Athena_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Sniper_BoltAction_Scope_Athena_SR_Ore_T03.WID_Sniper_BoltAction_Scope_Athena_SR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Sniper_BoltAction_Scope_Athena_R_Ore_T03.WID_Sniper_BoltAction_Scope_Athena_R_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Shotgun_Standard_Athena_VR_Ore_T03.WID_Shotgun_Standard_Athena_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Shotgun_Standard_Athena_UC_Ore_T03.WID_Shotgun_Standard_Athena_UC_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Shotgun_Standard_Athena_SR_Ore_T03.WID_Shotgun_Standard_Athena_SR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Shotgun_Standard_Athena_C_Ore_T03.WID_Shotgun_Standard_Athena_C_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Shotgun_SlugFire_Athena_VR.WID_Shotgun_SlugFire_Athena_VR",
        "/Game/Athena/Items/Weapons/WID_Shotgun_SlugFire_Athena_SR.WID_Shotgun_SlugFire_Athena_SR",
        "/Game/Athena/Items/Weapons/WID_Shotgun_SemiAuto_Athena_VR_Ore_T03.WID_Shotgun_SemiAuto_Athena_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Shotgun_SemiAuto_Athena_UC_Ore_T03.WID_Shotgun_SemiAuto_Athena_UC_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Shotgun_SemiAuto_Athena_R_Ore_T03.WID_Shotgun_SemiAuto_Athena_R_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Shotgun_BreakBarrel_Athena_VR_Ore_T03.WID_Shotgun_BreakBarrel_Athena_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Shotgun_BreakBarrel_Athena_SR_Ore_T03.WID_Shotgun_BreakBarrel_Athena_SR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Pistol_SixShooter_Athena_UC_Ore_T03.WID_Pistol_SixShooter_Athena_UC_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Pistol_SixShooter_Athena_R_Ore_T03.WID_Pistol_SixShooter_Athena_R_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Pistol_SixShooter_Athena_C_Ore_T02.WID_Pistol_SixShooter_Athena_C_Ore_T02",
        "/Game/Athena/Items/Weapons/WID_Pistol_SemiAuto_Athena_VR_Ore_T03.WID_Pistol_SemiAuto_Athena_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Pistol_SemiAuto_Athena_UC_Ore_T03.WID_Pistol_SemiAuto_Athena_UC_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Pistol_SemiAuto_Athena_SR_Ore_T03.WID_Pistol_SemiAuto_Athena_SR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Pistol_SemiAuto_Athena_R_Ore_T03.WID_Pistol_SemiAuto_Athena_R_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Pistol_SemiAuto_Athena_C_Ore_T02.WID_Pistol_SemiAuto_Athena_C_Ore_T02",
        "/Game/Athena/Items/Weapons/WID_Pistol_Scoped_Athena_VR_Ore_T03.WID_Pistol_Scoped_Athena_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Pistol_Scoped_Athena_SR_Ore_T03.WID_Pistol_Scoped_Athena_SR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Pistol_Scavenger_Athena_VR_Ore_T03.WID_Pistol_Scavenger_Athena_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Pistol_Scavenger_Athena_UC_Ore_T03.WID_Pistol_Scavenger_Athena_UC_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Pistol_Scavenger_Athena_R_Ore_T03.WID_Pistol_Scavenger_Athena_R_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Pistol_Revolver_SingleAction_Athena_VR.WID_Pistol_Revolver_SingleAction_Athena_VR",
        "/Game/Athena/Items/Weapons/WID_Pistol_Revolver_SingleAction_Athena_UC.WID_Pistol_Revolver_SingleAction_Athena_UC",
        "/Game/Athena/Items/Weapons/WID_Pistol_Revolver_SingleAction_Athena_R.WID_Pistol_Revolver_SingleAction_Athena_R",
        "/Game/Athena/Items/Weapons/WID_Pistol_HandCannon_Athena_VR_Ore_T03.WID_Pistol_HandCannon_Athena_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Pistol_HandCannon_Athena_SR_Ore_T03.WID_Pistol_HandCannon_Athena_SR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Pistol_AutoHeavy_Athena_UC_Ore_T03.WID_Pistol_AutoHeavy_Athena_UC_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Pistol_AutoHeavy_Athena_R_Ore_T03.WID_Pistol_AutoHeavy_Athena_R_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Pistol_AutoHeavy_Athena_C_Ore_T02.WID_Pistol_AutoHeavy_Athena_C_Ore_T02",
        "/Game/Athena/Items/Weapons/WID_Pistol_AutoHeavySuppressed_Athena_UC_Ore_T03.WID_Pistol_AutoHeavySuppressed_Athena_UC_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Pistol_AutoHeavySuppressed_Athena_R_Ore_T03.WID_Pistol_AutoHeavySuppressed_Athena_R_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Pistol_AutoHeavySuppressed_Athena_C_Ore_T02.WID_Pistol_AutoHeavySuppressed_Athena_C_Ore_T02",
        "/Game/Athena/Items/Weapons/WID_Pistol_AutoHeavyPDW_Athena_VR_Ore_T03.WID_Pistol_AutoHeavyPDW_Athena_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Pistol_AutoHeavyPDW_Athena_UC_Ore_T03.WID_Pistol_AutoHeavyPDW_Athena_UC_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Pistol_AutoHeavyPDW_Athena_SR_Ore_T03.WID_Pistol_AutoHeavyPDW_Athena_SR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Pistol_AutoHeavyPDW_Athena_R_Ore_T03.WID_Pistol_AutoHeavyPDW_Athena_R_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Pistol_AutoHeavyPDW_Athena_C_Ore_T03.WID_Pistol_AutoHeavyPDW_Athena_C_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Launcher_Rocket_Athena_VR_Ore_T03.WID_Launcher_Rocket_Athena_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Launcher_Rocket_Athena_SR_Ore_T03.WID_Launcher_Rocket_Athena_SR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Launcher_Rocket_Athena_R_Ore_T03.WID_Launcher_Rocket_Athena_R_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Launcher_Military_Athena_VR_Ore_T03.WID_Launcher_Military_Athena_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Launcher_Military_Athena_SR_Ore_T03.WID_Launcher_Military_Athena_SR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Launcher_Grenade_Athena_VR_Ore_T03.WID_Launcher_Grenade_Athena_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Launcher_Grenade_Athena_SR_Ore_T03.WID_Launcher_Grenade_Athena_SR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Launcher_Grenade_Athena_R_Ore_T03.WID_Launcher_Grenade_Athena_R_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Hook_Gun_VR_Ore_T03.WID_Hook_Gun_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_DualPistol_SemiAuto_Athena_VR_Ore_T03.WID_DualPistol_SemiAuto_Athena_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_DualPistol_SemiAuto_Athena_SR_Ore_T03.WID_DualPistol_SemiAuto_Athena_SR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Assault_Surgical_Thermal_Athena_VR_Ore_T03.WID_Assault_Surgical_Thermal_Athena_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Assault_Surgical_Thermal_Athena_SR_Ore_T03.WID_Assault_Surgical_Thermal_Athena_SR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Assault_Surgical_Athena_VR_Ore_T03.WID_Assault_Surgical_Athena_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Assault_Surgical_Athena_R_Ore_T03.WID_Assault_Surgical_Athena_R_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Assault_Suppressed_Athena_VR_Ore_T03.WID_Assault_Suppressed_Athena_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Assault_Suppressed_Athena_SR_Ore_T03.WID_Assault_Suppressed_Athena_SR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Assault_SemiAuto_Athena_VR_Ore_T03.WID_Assault_SemiAuto_Athena_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Assault_SemiAuto_Athena_UC_Ore_T03.WID_Assault_SemiAuto_Athena_UC_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Assault_SemiAuto_Athena_SR_Ore_T03.WID_Assault_SemiAuto_Athena_SR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Assault_SemiAuto_Athena_R_Ore_T03.WID_Assault_SemiAuto_Athena_R_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Assault_SemiAuto_Athena_C_Ore_T02.WID_Assault_SemiAuto_Athena_C_Ore_T02",
        "/Game/Athena/Items/Weapons/WID_Assault_LMG_Athena_VR_Ore_T03.WID_Assault_LMG_Athena_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Assault_LMG_Athena_SR_Ore_T03.WID_Assault_LMG_Athena_SR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Assault_LMGSAW_Athena_VR_Ore_T03.WID_Assault_LMGSAW_Athena_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Assault_LMGSAW_Athena_R_Ore_T03.WID_Assault_LMGSAW_Athena_R_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Assault_Heavy_Athena_VR_Ore_T03.WID_Assault_Heavy_Athena_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Assault_Heavy_Athena_SR_Ore_T03.WID_Assault_Heavy_Athena_SR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Assault_Heavy_Athena_R_Ore_T03.WID_Assault_Heavy_Athena_R_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Assault_Auto_Athena_UC_Ore_T03.WID_Assault_Auto_Athena_UC_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Assault_Auto_Athena_R_Ore_T03.WID_Assault_Auto_Athena_R_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Assault_Auto_Athena_C_Ore_T02.WID_Assault_Auto_Athena_C_Ore_T02",
        "/Game/Athena/Items/Weapons/WID_Assault_AutoHigh_Athena_VR_Ore_T03.WID_Assault_AutoHigh_Athena_VR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Assault_AutoHigh_Athena_SR_Ore_T03.WID_Assault_AutoHigh_Athena_SR_Ore_T03",
        "/Game/Athena/Items/Weapons/Boss/WID_Boss_Adventure_GH.WID_Boss_Adventure_GH",
        "/Game/Athena/Items/Weapons/WID_SMG_Classic_Athena_R_Ore_T03.WID_SMG_Classic_Athena_R_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_Shotgun_HighSemiAuto_Athena_SR_Ore_T03.WID_Shotgun_HighSemiAuto_Athena_SR_Ore_T03",
        "/Game/Athena/Items/Weapons/WID_RC_Rocket_Athena_SR_T03.WID_RC_Rocket_Athena_SR_T03",
        "/Game/Athena/Items/Weapons/WID_Assault_Infantry_Athena_SR.WID_Assault_Infantry_Athena_SR"
    };

    inline UFortWeaponItemDefinition* GetRandomWeapon()
    {
        return UObject::FindObjectFast<UFortWeaponItemDefinition>(WeaponItemDefinitionArray[rand() % WeaponItemDefinitionArray.size()]);
    }


    static inline std::vector<std::string> ConsumableItemDefinitionArray = {
        "/Game/Athena/Items/Consumables/TowerGrenade/Athena_TowerGrenade.Athena_TowerGrenade",
        "/Game/Athena/Items/Consumables/TNT/Athena_TNT.Athena_TNT",
        "/Game/Athena/Items/Consumables/ThrownConsumables/IceGrenade/Athena_IceGrenade.Athena_IceGrenade",
        "/Game/Athena/Items/Consumables/SuperTowerGrenade/Levels/SpikeArena/Athena_SpikeArena_Grenade.Athena_SpikeArena_Grenade",
        "/Game/Athena/Items/Consumables/SuperTowerGrenade/Levels/PortAFort_A/Athena_SuperTowerGrenade_A.Athena_SuperTowerGrenade_A",
        "/Game/Athena/Items/Consumables/SuperTowerGrenade/Levels/GiftBox/Athena_GiftBox.Athena_GiftBox",
        "/Game/Athena/Items/Consumables/StickyGrenade/Athena_StickyGrenade.Athena_StickyGrenade",
        "/Game/Athena/Items/Consumables/SmokeGrenade/Athena_SmokeGrenade.Athena_SmokeGrenade",
        "/Game/Athena/Items/Consumables/ShockwaveGrenade/Athena_ShockGrenade.Athena_ShockGrenade",
        "/Game/Athena/Items/Consumables/PlaysetGrenade/PlaysetGrenadeInstances/Athena_PlaysetGrenade_Instance_PirateShip.Athena_PlaysetGrenade_Instance_PirateShip",
        "/Game/Athena/Items/Consumables/PlaysetGrenade/PlaysetGrenadeInstances/Athena_PlaysetGrenade_Instance_ObstacleCourse6.Athena_PlaysetGrenade_Instance_ObstacleCourse6",
        "/Game/Athena/Items/Consumables/PlaysetGrenade/PlaysetGrenadeInstances/Athena_PlaysetGrenade_Instance_ObstacleCourse5.Athena_PlaysetGrenade_Instance_ObstacleCourse5",
        "/Game/Athena/Items/Consumables/PlaysetGrenade/PlaysetGrenadeInstances/Athena_PlaysetGrenade_Instance_ObstacleCourse4.Athena_PlaysetGrenade_Instance_ObstacleCourse4",
        "/Game/Athena/Items/Consumables/PlaysetGrenade/PlaysetGrenadeInstances/Athena_PlaysetGrenade_Instance_ObstacleCourse3.Athena_PlaysetGrenade_Instance_ObstacleCourse3",
        "/Game/Athena/Items/Consumables/PlaysetGrenade/PlaysetGrenadeInstances/Athena_PlaysetGrenade_Instance_IronClad.Athena_PlaysetGrenade_Instance_IronClad",
        "/Game/Athena/Items/Consumables/PlaysetGrenade/PlaysetGrenadeInstances/Athena_PlaysetGrenade_Instance_FiringRange_4.Athena_PlaysetGrenade_Instance_FiringRange_4",
        "/Game/Athena/Items/Consumables/PlaysetGrenade/PlaysetGrenadeInstances/Athena_PlaysetGrenade_Instance_FiringRange_3.Athena_PlaysetGrenade_Instance_FiringRange_3",
        "/Game/Athena/Items/Consumables/PlaysetGrenade/PlaysetGrenadeInstances/Athena_PlaysetGrenade_Instance_FiringRange_2.Athena_PlaysetGrenade_Instance_FiringRange_2",
        "/Game/Athena/Items/Consumables/PlaysetGrenade/PlaysetGrenadeInstances/Athena_PlaysetGrenade_Instance_FiringRange.Athena_PlaysetGrenade_Instance_FiringRange",
        "/Game/Athena/Items/Consumables/PlaysetGrenade/PlaysetGrenadeInstances/Athena_PlaysetGrenade_Instance_Deathmatch.Athena_PlaysetGrenade_Instance_Deathmatch",
        "/Game/Athena/Items/Consumables/PlaysetGrenade/PlaysetGrenadeInstances/Athena_PlaysetGrenade_Instance_BuildTheTower.Athena_PlaysetGrenade_Instance_BuildTheTower",
        "/Game/Athena/Items/Consumables/PlaysetGrenade/PlaysetGrenadeInstances/Athena_PlaysetGrenade_Instance_BuildTheRamp.Athena_PlaysetGrenade_Instance_BuildTheRamp",
        "/Game/Athena/Items/Consumables/PlaysetGrenade/PlaysetGrenadeInstances/Athena_PlaysetGrenade_Instance_BuildTheChallenge_1.Athena_PlaysetGrenade_Instance_BuildTheChallenge_1",
        "/Game/Athena/Items/Consumables/PlaysetGrenade/PlaysetGrenadeInstances/Athena_PlaysetGrenade_Instance_BuildTheBox.Athena_PlaysetGrenade_Instance_BuildTheBox",
        "/Game/Athena/Items/Consumables/KnockGrenade/Athena_KnockGrenade.Athena_KnockGrenade",
        "/Game/Athena/Items/Consumables/Grenade/Athena_Grenade.Athena_Grenade",
        "/Game/Athena/Items/Consumables/GasGrenade/Athena_GasGrenade.Athena_GasGrenade",
        "/Game/Athena/Items/Consumables/FireworksMortar/Athena_FireworksMortar.Athena_FireworksMortar",
        "/Game/Athena/Items/Consumables/DanceGrenade/Athena_DanceGrenade.Athena_DanceGrenade",
        "/Game/Athena/Items/Consumables/C4/Athena_C4.Athena_C4",
        "/Game/Athena/Items/Consumables/BoomBox/BoomBox_Athena.BoomBox_Athena",
        "/Game/Athena/Items/Consumables/Medkit/Athena_Medkit.Athena_Medkit",
        "/Game/Athena/Items/Consumables/Bush/Athena_Bush.Athena_Bush",
        "/Game/Athena/Items/Consumables/Bandage/Athena_Bandage.Athena_Bandage",
        "/Game/Athena/Items/Consumables/Balloons/Athena_Balloons_Consumable.Athena_Balloons_Consumable",
        "/Game/Athena/Items/Consumables/Balloons/Athena_Balloons.Athena_Balloons"
    };

    inline UFortWeaponItemDefinition* GetRandomConsumable()
    {
        return UObject::FindObjectFast<UFortWeaponItemDefinition>(ConsumableItemDefinitionArray[rand() % ConsumableItemDefinitionArray.size()]);
    }

    auto getRandomLocation()
    {
        static std::vector<FVector> Locations = {

                   { 24426, 37710, 25000 }, // retail row
                   { 50018, 73844, 17525 }, // lonely lodge
                   { -75353, -8694, 4354 }, // lucky landing
                   { 79710, 15677, 17525 }, // tomato town
                   { 86766, -83071, 17525 }, // pleasant park
                   { -35037, -463, 13242 }, // fatal fields
                   { 83375, 50856, 17525 }, // Wailing Woods
                   { 83375, 50856, 17525 }, // Wailing Woods Duplicate
                   { 83375, 50856, 17525 }, // Wailing Woods Duplicate
                   { 83375, 50856, 17525 }, // Wailing Woods Duplicate
                   { 35000, -60121, 20525 }, // Tilted Towers
                   { 35000, -60121, 20525 }, // Tilted Towers Duplicate
                   { 35000, -60121, 20525 }, // Tilted Towers Duplicate
                   { 35000, -60121, 20525 }, // Tilted Towers Duplicate
                   { 5000, -60121, 10748 }, // shifty shafts
                   { 110088, -115332, 17525 }, // Haunted Hills
                   { 119126, -86354, 17525 }, // Junk Houses
                   { 130036, -105092, 17525 }, // Junk Junction
                   { -68000, -63521, 17525 }, // Flush Factory
                   { 3502, -9183, 10500 }, // Salty Springs
                   { 7760, 76702, 17525 }, //race track
                   { 38374, -94726, 17525 }, //Soccer field
                   { 70000, -40121, 17525 }, // Loot Lake
                   { -123778, -112480, 17525 } //Spawn Island
        };

        auto Location = Locations[rand() % Locations.size()];
        return Location;
    }

    static inline std::vector<std::string> AmmoItemDefinitionArray = {
        "/Game/Athena/Items/Ammo/AmmoDataRockets.AmmoDataRockets",
        "/Game/Athena/Items/Ammo/AthenaAmmoDataShells.AthenaAmmoDataShells",
        "/Game/Athena/Items/Ammo/AthenaAmmoDataBulletsMedium.AthenaAmmoDataBulletsMedium",
        "/Game/Athena/Items/Ammo/AthenaAmmoDataBulletsLight.AthenaAmmoDataBulletsLight",
        "/Game/Athena/Items/Ammo/AthenaAmmoDataBulletsHeavy.AthenaAmmoDataBulletsHeavy"
    };

    inline UFortAmmoItemDefinition* GetRandomAmmo()
    {
        return UObject::FindObjectFast<UFortAmmoItemDefinition>(AmmoItemDefinitionArray[rand() % AmmoItemDefinitionArray.size()]);
    }



    inline void Update(AFortPlayerControllerAthena* PlayerController, int Dirty = 0, bool bRemovedItem = false)
    {
        if (!PlayerController) return;

        auto QuickBars = PlayerController->QuickBars;
        if (!QuickBars) return;

        auto WorldInventory = PlayerController->WorldInventory;
        if (!WorldInventory) return;

        auto& Inventory = WorldInventory->Inventory;

        WorldInventory->bRequiresLocalUpdate = true;
        WorldInventory->HandleInventoryLocalUpdate();
        WorldInventory->ForceNetUpdate();
        PlayerController->HandleWorldInventoryLocalUpdate();

        QuickBars->OnRep_PrimaryQuickBar();
        QuickBars->OnRep_SecondaryQuickBar();
        QuickBars->ForceNetUpdate();
        PlayerController->ForceUpdateQuickbar(EFortQuickBars::Primary);
        PlayerController->ForceUpdateQuickbar(EFortQuickBars::Secondary);

        if (bRemovedItem)
            Inventory.MarkArrayDirty();

        if (Dirty && Inventory.ReplicatedEntries.Num() >= Dirty)
            Inventory.MarkItemDirty(Inventory.ReplicatedEntries[Dirty]);

    }

    inline FFortItemEntry AddItem(AFortPlayerControllerAthena* Controller, UFortWorldItem* SlotInstance, int Slot, EFortQuickBars Bars = EFortQuickBars::Primary, int Count = 1)
    {
        if (!Controller) return {};
        if (!SlotInstance) return {};

        auto QuickBars = Controller->QuickBars;
        if (!QuickBars) return {};

        auto WorldInventory = Controller->WorldInventory;
        if (!WorldInventory) return {};

        auto& Inventory = WorldInventory->Inventory;

        auto& ItemEntry = SlotInstance->ItemEntry;

        ItemEntry.Count = Count;

        SlotInstance->SetOwningControllerForTemporaryItem(Controller);
        SlotInstance->OwnerInventory = WorldInventory;

        Inventory.ItemInstances.Add((UFortWorldItem*)SlotInstance);
        QuickBars->ServerAddItemInternal(ItemEntry.ItemGuid, Bars, Slot);
        Inventory.ReplicatedEntries.Add(ItemEntry);

        //Update(Controller, Inventory.ReplicatedEntries.Add(ItemEntry));

        return ItemEntry;
    }

    inline FFortItemEntry AddNewItem(AFortPlayerControllerAthena* Controller, UFortItemDefinition* ItemDefinition, int Slot, EFortQuickBars Bars = EFortQuickBars::Primary, int Count = 1)
    {
        if (!Controller) return {};
        if (!ItemDefinition) return {};

        if (Slot < 0)
            return {};

        if (Bars == EFortQuickBars::Primary && Slot >= 6)
            return {};

        if (auto TempItemInstance = (UFortWorldItem*)ItemDefinition->CreateTemporaryItemInstanceBP(Count, 1))
        {
            return AddItem(Controller, TempItemInstance, Slot, Bars, Count);
        }
    }

    inline bool RemoveItem(AFortPlayerControllerAthena* PlayerController, int Slot, int Amount = -1, EFortQuickBars Quickbars = EFortQuickBars::Primary)
    {
        if (!PlayerController) return false;

        auto QuickBarSlots = (Quickbars == EFortQuickBars::Primary) ? PlayerController->QuickBars->PrimaryQuickBar.Slots : PlayerController->QuickBars->SecondaryQuickBar.Slots;

        if (Amount == -1)
            Amount = QuickBarSlots[Slot].Items.Num();

        bool bWasSuccessful = false;

        for (int i = 0; i < Amount; i++)
        {
            auto& ToRemoveGuid = QuickBarSlots[Slot].Items[i];

            for (int j = 0; j < PlayerController->WorldInventory->Inventory.ItemInstances.Num(); j++)
            {
                auto ItemInstance = PlayerController->WorldInventory->Inventory.ItemInstances[j];

                if (!ItemInstance)
                    continue;

                auto Guid = ItemInstance->ItemEntry.ItemGuid;

                if (ToRemoveGuid == Guid)
                {
                    PlayerController->WorldInventory->Inventory.ItemInstances.RemoveAt(j);
                    bWasSuccessful = true;
                }
            }

            for (int x = 0; x < PlayerController->WorldInventory->Inventory.ReplicatedEntries.Num(); x++)
            {
                auto& ItemEntry = PlayerController->WorldInventory->Inventory.ReplicatedEntries[x];

                if (ItemEntry.ItemGuid == ToRemoveGuid)
                {
                    PlayerController->WorldInventory->Inventory.ReplicatedEntries.RemoveAt(x);
                    bWasSuccessful = true;
                }
            }

            PlayerController->QuickBars->ServerRemoveItemInternal(ToRemoveGuid, false, true);
            ToRemoveGuid.Reset();
        }

        if (bWasSuccessful)
        {
            PlayerController->QuickBars->EmptySlot(Quickbars, Slot);

            QuickBarSlots[Slot].Items.FreeArray();
        }

        //Inventory::Update(PlayerController, 0, true);

        return bWasSuccessful;
    }


    inline UFortWorldItem* GetInstanceFromGuid(AFortPlayerControllerAthena* Controller, FGuid ToFindGuid)
    {
        if (!Controller) return 0;

        auto WorldInventory = Controller->WorldInventory;
        if (!WorldInventory) return 0;

        auto Inventory = WorldInventory->Inventory;
        if (!&Inventory) return 0;

        auto ItemInstances = Inventory.ItemInstances;

        for (int i = 0; i < ItemInstances.Num(); i++)
        {
            auto ItemInstance = ItemInstances[i];
            if (!ItemInstance) continue;

            auto ItemEntry = ItemInstance->ItemEntry;
            if (!&ItemEntry) continue;

            if (ItemEntry.ItemGuid == ToFindGuid)
                return ItemInstance;
        }

        return nullptr;
    }

    inline AFortWeapon* GetWeaponFromGuid(AFortPlayerControllerAthena* PlayerController, FGuid ToFindGuid)
    {
        if (!PlayerController) return 0;

        auto Pawn = (AFortPlayerPawn*)PlayerController->Pawn;
        if (!Pawn) return 0;

        auto Weapons = Pawn->CurrentWeaponList;

        for (int i = 0; i < Weapons.Num(); i++)
        {
            auto Weapon = Weapons[i];
            if (!Weapon) continue;

            if (Weapon->ItemEntryGuid == ToFindGuid)
                return Weapon;
        }

        return 0;
    }

    inline AFortWeapon* EquipWeaponDefinition(AFortPlayerControllerAthena* PlayerController, UFortWeaponItemDefinition* Definition, FGuid Guid, bool bEquipWithMaxAmmo = false)
    {
        if (!PlayerController) return 0;
        if (!Definition) return 0;

        auto Pawn = (AFortPlayerPawnAthena*)PlayerController->Pawn;
        if (!Pawn) return 0;

        auto Instance = GetInstanceFromGuid(PlayerController, Guid);
        if (!Instance) return 0;

        auto WeaponClass = Definition->GetWeaponActorClass();
        if (!WeaponClass) return 0;

        AFortWeapon* Weapon;

        if (WeaponClass->GetFullName() == "BlueprintGeneratedClass TrapTool.TrapTool_C")
        {
            Weapon = (AFortWeapon*)Core::SpawnActor(WeaponClass, {}, PlayerController);
            if (!Weapon) return 0;

            Weapon->bReplicates = true;
            Weapon->bOnlyRelevantToOwner = false;
            ((AFortTrapTool*)Weapon)->ItemDefinition = Definition;
        }
        else
        {
            Weapon = Pawn->EquipWeaponDefinition(Definition, Guid);
            if (!Weapon) return 0;

            if (bEquipWithMaxAmmo)
                Weapon->AmmoCount = Weapon->GetBulletsPerClip();

            Instance->ItemEntry.LoadedAmmo = Weapon->AmmoCount;
            Weapon->OnRep_AmmoCount(Instance->ItemEntry.LoadedAmmo);
        }

        Weapon->WeaponData = Definition;
        Weapon->ItemEntryGuid = Guid;
        Weapon->Owner = Pawn;
        Weapon->SetOwner(Pawn);
        Weapon->OnRep_ReplicatedWeaponData();
        Weapon->ClientGivenTo(Pawn);
        Pawn->ClientInternalEquipWeapon(Weapon);
        Pawn->OnRep_CurrentWeapon();

        return Weapon;
    }

    inline AFortWeapon* ServerExecuteInventoryItem(AFortPlayerControllerAthena* PlayerController, FGuid Guid)
    {
        if (!PlayerController || PlayerController->IsInAircraft()) return 0;

        auto WorldInventory = PlayerController->WorldInventory;
        if (!WorldInventory) return 0;

        auto Inventory = WorldInventory->Inventory;
        if (!&Inventory) return 0;

        auto ItemInstances = Inventory.ItemInstances;

        for (int i = 0; i < ItemInstances.Num(); i++)
        {
            auto CurrentItemInstance = ItemInstances[i];
            if (!CurrentItemInstance) continue;

            if (CurrentItemInstance->GetItemGuid() == Guid)
            {
                if (auto Def = (UFortWeaponItemDefinition*)CurrentItemInstance->GetItemDefinitionBP())
                    return EquipWeaponDefinition(PlayerController, Def, Guid);
            }
        }
    }

    inline void ServerHandlePickup(AFortPlayerPawn* Pawn, void* params)
    {
        if (!Pawn) return;

        auto PlayerController = (AFortPlayerControllerAthena*)Pawn->Controller;
        if (!PlayerController || PlayerController->IsInAircraft()) return;

        auto Params = (AFortPlayerPawn_ServerHandlePickup_Params*)params;
        if (!Params || !Params->Pickup) return;
        if (Params->Pickup->IsActorBeingDestroyed() || Params->Pickup->bPickedUp) return;

        auto& ItemInstances = PlayerController->WorldInventory->Inventory.ItemInstances;
        //if (!&ItemInstances) return;

        auto WorldItemDefinition = (UFortWorldItemDefinition*)Params->Pickup->PrimaryPickupItemEntry.ItemDefinition;
        if (!WorldItemDefinition) return;

        auto QuickBars = PlayerController->QuickBars;
        if (!QuickBars) return;

        bool force_give_weapon = false;

        if (WorldItemDefinition->IsA(UFortWeaponItemDefinition::StaticClass()) || WorldItemDefinition->IsA(UFortWeaponRangedItemDefinition::StaticClass()))
        {
            auto PrimaryQuickBarSlots = PlayerController->QuickBars->PrimaryQuickBar.Slots;

            for (int i = 1; i < PrimaryQuickBarSlots.Num(); i++)
            {
                if (i == PrimaryQuickBarSlots.Num() - 1 && PrimaryQuickBarSlots[i].Items.Data) //Slots are full
                {
                    auto FocusedSlot = QuickBars->PrimaryQuickBar.CurrentFocusedSlot;
                    if (!FocusedSlot) return; //Pickaxe 

                    i = FocusedSlot;

                    if (PrimaryQuickBarSlots.Num() < FocusedSlot) continue;
                    if (!PrimaryQuickBarSlots[FocusedSlot].Items.Num()) continue;

                    FGuid& FocusedGuid = PrimaryQuickBarSlots[FocusedSlot].Items[0];

                    for (int j = 0; j < ItemInstances.Num(); j++)
                    {
                        auto ItemInstance = ItemInstances[j];
                        if (!ItemInstance) continue;

                        if (ItemInstance->ItemEntry.ItemGuid == FocusedGuid)
                        {
                            auto Pickup = Core::SummonPickup(ItemInstance->ItemEntry.ItemDefinition, ItemInstance->ItemEntry.Count, Pawn->K2_GetActorLocation()); //Drop the weapon to replace
                            Pickup->Owner = PlayerController;

                            auto Weapon = Pawn->EquipWeaponDefinition((UFortWeaponItemDefinition*)ItemInstance->ItemEntry.ItemDefinition, FocusedGuid);
                            if(Weapon)
                                ItemInstance->ItemEntry.LoadedAmmo = Weapon->AmmoCount;

                            Pickup->PrimaryPickupItemEntry.LoadedAmmo = ItemInstance->ItemEntry.LoadedAmmo;

                            RemoveItem(PlayerController, FocusedSlot);

                            force_give_weapon = true;

                            break;
                        }
                    }

                    continue;
                }


                if (!PrimaryQuickBarSlots[i].Items.Data || force_give_weapon)
                {
                    auto entry = AddNewItem(PlayerController, WorldItemDefinition, i, EFortQuickBars::Primary, Params->Pickup->PrimaryPickupItemEntry.Count);

                    auto Instance = GetInstanceFromGuid(PlayerController, entry.ItemGuid);
                    if (!Instance) return;

                    if (!Params->Pickup->Owner)
                    {
                        auto Weapon = EquipWeaponDefinition(PlayerController, (UFortWeaponItemDefinition*)Params->Pickup->PrimaryPickupItemEntry.ItemDefinition, entry.ItemGuid, true);
                        if (Weapon)
                            Params->Pickup->PrimaryPickupItemEntry.LoadedAmmo = Weapon->AmmoCount;
                    }

                    Params->Pickup->Owner = PlayerController;
                    Instance->ItemEntry.LoadedAmmo = Params->Pickup->PrimaryPickupItemEntry.LoadedAmmo;

                    Params->Pickup->PickupLocationData.PickupTarget = Pawn;
                    Params->Pickup->PickupLocationData.PickupTarget = Pawn;
                    Params->Pickup->PickupLocationData.FlyTime = 0.75f;
                    Params->Pickup->PickupLocationData.ItemOwner = Pawn;
                    Params->Pickup->OnRep_PickupLocationData();
                    Params->Pickup->bPickedUp = true;
                    Params->Pickup->OnRep_bPickedUp();

                    //Params->Pickup->K2_DestroyActor();

                    Update(PlayerController, 0, true);
                    return;
                }
            }
        }
    }

    inline void ServerAttemptInventoryDrop(AFortPlayerControllerAthena* PlayerController, void* params)
    {
        if (!PlayerController || PlayerController->IsInAircraft()) return;

        auto Pawn = (AFortPlayerPawnAthena*)PlayerController->Pawn;
        if (!Pawn) return;

        auto Params = (AFortPlayerController_ServerAttemptInventoryDrop_Params*)params;
        if (!Params) return;

        auto Instance = GetInstanceFromGuid(PlayerController, Params->ItemGuid);
        if (!Instance) return;

        auto WorldItemDefinition = Instance->ItemEntry.ItemDefinition;
        if (!WorldItemDefinition || WorldItemDefinition->IsA(UFortDecoItemDefinition::StaticClass())) return;

        auto QuickBars = PlayerController->QuickBars;
        if (!QuickBars) return;

        auto& PrimaryQuickBarSlots = QuickBars->PrimaryQuickBar.Slots;
        auto& SecondaryQuickBarSlots = QuickBars->SecondaryQuickBar.Slots;

        if (WorldItemDefinition->IsA(UFortWeaponItemDefinition::StaticClass()) || WorldItemDefinition->IsA(UFortWeaponRangedItemDefinition::StaticClass()))
        {
            for (int i = 1; i < PrimaryQuickBarSlots.Num(); i++)
            {
                if (PrimaryQuickBarSlots[i].Items.Data)
                {
                    for (int j = 0; j < PrimaryQuickBarSlots[i].Items.Num(); j++)
                    {
                        if (PrimaryQuickBarSlots[i].Items[j] == Params->ItemGuid)
                        {
                            if (WorldItemDefinition && RemoveItem(PlayerController, i, j + 1, EFortQuickBars::Primary))
                            {
                                auto Pickup = SummonPickup(WorldItemDefinition, Instance->ItemEntry.Count, Pawn->K2_GetActorLocation());
                                Pickup->Owner = PlayerController;

                                auto Weapon = Pawn->EquipWeaponDefinition((UFortWeaponItemDefinition*)WorldItemDefinition, Params->ItemGuid);
                                if (Weapon)
                                    Instance->ItemEntry.LoadedAmmo = Weapon->AmmoCount;

                                Pickup->PrimaryPickupItemEntry.LoadedAmmo = Instance->ItemEntry.LoadedAmmo;

                                if (PrimaryQuickBarSlots[0].Items.Data)
                                    ServerExecuteInventoryItem(PlayerController, PrimaryQuickBarSlots[0].Items[0]);

                                Update(PlayerController, 0, true);
                                return;
                            }
                        }
                    }
                }
            }
        }
    }

	void Initialize(AFortPlayerControllerAthena* PlayerController)
	{
        if (!PlayerController) return;

        PlayerController->QuickBars = Core::SpawnActor<AFortQuickBars>({ -280, 400, 3000 }, PlayerController);
        PlayerController->OnRep_QuickBar();

        static auto Wall = UObject::FindObjectFast<UFortItemDefinition>("/Game/Items/Weapons/BuildingTools/BuildingItemData_Wall.BuildingItemData_Wall");
        static auto Floor = UObject::FindObjectFast<UFortItemDefinition>("/Game/Items/Weapons/BuildingTools/BuildingItemData_Floor.BuildingItemData_Floor");
        static auto Stair = UObject::FindObjectFast<UFortItemDefinition>("/Game/Items/Weapons/BuildingTools/BuildingItemData_Stair_W.BuildingItemData_Stair_W");
        static auto Cone = UObject::FindObjectFast<UFortItemDefinition>("/Game/Items/Weapons/BuildingTools/BuildingItemData_RoofS.BuildingItemData_RoofS");
        static auto EditTool = UObject::FindObjectFast<UFortItemDefinition>("/Game/Items/Weapons/BuildingTools/EditTool.EditTool");

        static auto Wood = UObject::FindObjectFast<UFortItemDefinition>("/Game/Items/ResourcePickups/WoodItemData.WoodItemData");
        static auto Stone = UObject::FindObjectFast<UFortItemDefinition>("/Game/Items/ResourcePickups/StoneItemData.StoneItemData");
        static auto Metal = UObject::FindObjectFast<UFortItemDefinition>("/Game/Items/ResourcePickups/MetalItemData.MetalItemData");

        static auto Rockets = UObject::FindObjectFast<UFortItemDefinition>("/Game/Athena/Items/Ammo/AmmoDataRockets.AmmoDataRockets");
        static auto Shells = UObject::FindObjectFast<UFortItemDefinition>("/Game/Athena/Items/Ammo/AthenaAmmoDataShells.AthenaAmmoDataShells");
        static auto Medium = UObject::FindObjectFast<UFortItemDefinition>("/Game/Athena/Items/Ammo/AthenaAmmoDataBulletsMedium.AthenaAmmoDataBulletsMedium");
        static auto Light = UObject::FindObjectFast<UFortItemDefinition>("/Game/Athena/Items/Ammo/AthenaAmmoDataBulletsLight.AthenaAmmoDataBulletsLight");
        static auto Heavy = UObject::FindObjectFast<UFortItemDefinition>("/Game/Athena/Items/Ammo/AthenaAmmoDataBulletsHeavy.AthenaAmmoDataBulletsHeavy");
        static auto Energy = UObject::FindObjectFast<UFortItemDefinition>("/Game/Athena/Items/Ammo/AthenaAmmoDataEnergyCell.AthenaAmmoDataEnergyCell");

        

        AddNewItem(PlayerController, EditTool, 0, EFortQuickBars::Primary, 1);
        AddNewItem(PlayerController, Wall, 0, EFortQuickBars::Secondary, 1);
        AddNewItem(PlayerController, Floor, 1, EFortQuickBars::Secondary, 1);
        AddNewItem(PlayerController, Stair, 2, EFortQuickBars::Secondary, 1);
        AddNewItem(PlayerController, Cone, 3, EFortQuickBars::Secondary, 1);

        AddNewItem(PlayerController, Wood, 0, EFortQuickBars::Secondary, 9999);
        AddNewItem(PlayerController, Stone, 0, EFortQuickBars::Secondary, 9999);
        AddNewItem(PlayerController, Metal, 0, EFortQuickBars::Secondary, 9999);

        AddNewItem(PlayerController, Rockets, 0, EFortQuickBars::Secondary, 9999);
        AddNewItem(PlayerController, Shells, 0, EFortQuickBars::Secondary, 9999);
        AddNewItem(PlayerController, Medium, 0, EFortQuickBars::Secondary, 9999);
        AddNewItem(PlayerController, Light, 0, EFortQuickBars::Secondary, 9999);
        AddNewItem(PlayerController, Heavy, 0, EFortQuickBars::Secondary, 9999);
        AddNewItem(PlayerController, Energy, 0, EFortQuickBars::Secondary, 9999);

        PlayerController->QuickBars->ServerActivateSlotInternal(EFortQuickBars::Primary, 0, 0, true, true);

        PlayerController->ActivateSlot(EFortQuickBars::Primary, 0, 0, true);

        static auto Pickaxe = UObject::FindObjectFast<UFortWeaponItemDefinition>("/Game/Athena/Items/Weapons/WID_Harvest_Pickaxe_Celestial.WID_Harvest_Pickaxe_Celestial");
        auto entry = AddNewItem(PlayerController, Pickaxe, 0, EFortQuickBars::Primary, 1);
        EquipWeaponDefinition(PlayerController, Pickaxe, entry.ItemGuid, true);

        static auto Scar = UObject::FindObjectFast<UFortWeaponItemDefinition>("/Game/Athena/Items/Weapons/WID_Assault_Suppressed_Athena_SR_Ore_T03.WID_Assault_Suppressed_Athena_SR_Ore_T03");
        entry = AddNewItem(PlayerController, Scar, 1, EFortQuickBars::Primary, 1);
        EquipWeaponDefinition(PlayerController, Scar, entry.ItemGuid, true);

        static auto Pump = UObject::FindObjectFast<UFortWeaponItemDefinition>("/Game/Athena/Items/Weapons/WID_Shotgun_Standard_Athena_SR_Ore_T03.WID_Shotgun_Standard_Athena_SR_Ore_T03");
        entry = AddNewItem(PlayerController, Pump, 2, EFortQuickBars::Primary, 2);
        EquipWeaponDefinition(PlayerController, Pump, entry.ItemGuid, true);

        static auto Hunting = UObject::FindObjectFast<UFortWeaponItemDefinition>("/Game/Athena/Items/Weapons/WID_Sniper_Heavy_Athena_VR_Ore_T03.WID_Sniper_Heavy_Athena_VR_Ore_T03");
        entry = AddNewItem(PlayerController, Hunting, 3, EFortQuickBars::Primary, 3);
        EquipWeaponDefinition(PlayerController, Hunting, entry.ItemGuid, true);

        static auto Shock = UObject::FindObjectFast<UFortWeaponItemDefinition>("/Game/Athena/Items/Consumables/ShockwaveGrenade/Athena_ShockGrenade.Athena_ShockGrenade");
        entry = AddNewItem(PlayerController, Shock, 4, EFortQuickBars::Primary, 4);
        EquipWeaponDefinition(PlayerController, Shock, entry.ItemGuid, true);
        
        Update(PlayerController, 0, true);
	}
}